## [BX] 和内存单元的描述



要完整描述一个内存单元，需要两种信息：1.内存单元的地址    2.内存单元的长度（类型）

用[0]表示一个内存单元时，0表示单元的偏移地址，段地址默认在ds中，单元的长度（类型）可以由具体指令中的其他操作对象（比如寄存器）指出。

[bx] 也表示一个内存单元，它的偏移地址在bx中



mov  ax，[bx]      汇编代码代表的意思是

将一个内存单元的内容送入ax，这个内存单元的长度为2字节（字单元），存放一个字，偏移地址EA在bx中，段地址SA在ds中

（ax）=（（ds）*16+（bx））



mov  al，[bx]      汇编代码代表的意思是

将一个内存单元的内容送入al，这个内存单元的长度为1字节（字节单元），存放一个字，偏移地址在bx中，段地址在ds中



## loop

代表循环



## （）符号的意义

在以后为了描述上的简介，用（）表示一个寄存器或一个内存单元的内容  比如

（ax）  表示ax中的内容，   （al） 表示al中的内容

（20000H） 表示内存20000H单元的内容     （）中的内存单元的地址为物理地址

（（ds）*16+（bx）） 表示：

ds中的内容为ADR1,bx中的内容为ADR2，内存ADR1x16+ADR2单元的内容

也可以理解为：ds中的ADR1作为段地址，bx中的ADR2作为偏移地址，内存ADR1:ADR2单元的内容。

**注意：“（）” 中的元素有三种类型： 1，寄存器名 ； 2，段寄存器  ； 3，内存单元的物理地址（一个20位的数据）**





比如   （ax） （ds）  (al)   (cx)  (20000H)  ((ds)*16)+(bx))   是正确的的写法

(2000:0)   ((ds):1000H)  是不正确的用法，括号内不会写一个段地址+偏移地址的逻辑地址，只会写物理地址或者寄存器名称



![1571890308477](.\images\1571890308477.png)

（X） 所表示的数据有两种类型，1字节，2字   哪种类型由寄存器或者具体的运算决定

（al），（bl），（cl）等得到的数据为字节型；（ds），（ax），（bx）等得到的数据为字型

（al）=（20000H） 则（20000H）得到的数据为字节型（ax）=（20000H），则（20000H）得到的数据为字型



## 约定符号idata表示常量

mov ax,[0] ,表示将ds:0 处的数据送入ax中。

在指令中，[...]里用一个常量0表示内存单元的偏移地址。



我们用idata表示常量

mov ax:[idata]  就代表  mov ax,[1], mov ax,[2]  , mov ax,[3]

mov bx:idata mov bx,1 ,mov bx,2,  mov bx,3

mov ds,idata  就代表mov ds,1,mov ds,2 这种是非法指令。



inc bx    代表bx中的内容加1



mov  ax,[bx]		将SA:EA的数据送入ax    （ax）=((ds)*16)+(bx))

mov [bx],ax		 将ax的数据送入SA:EA       ((ds)*16)+(bx)) =（ax）







## loop

在CX中存放循环次数，DX累加器

loop指令中的标号所表示地址要在前面

要循环执行的程序段，要写在标号和loop指令中间



assume  cs:code

code  segment

  mov  ax,2

  mov  cx,11

s:  add  ax,ax

​     loop  s

code  ends

end







## 段前缀



在汇编源程序中，数据不能以字母开头



debug将mov ax [0]   的 [idata] 解释为  一个内存单元，idata是内存单元的偏移地址，而编译器将 [idata]  解释为  常量。

所以我们如何在源程序中实现将内存2000:0,2000:1 单元中的数据送入al，bl，cl，dl

1.显式的通过mov多次段寄存器来操作

mov  ax,2000h

mov  ds,ax

mov  bx,0

mov  al,[bx]



2. 

mov ax,2000h

mov ds,ax

mov al,ds:[0]



显式的指明内存单元的段地址

ds:   cs:    ss:    es:

mov  ax，cs:[bx]

mov  bx,  ss:[0]



在相距大于64KB的段里，程序每次煦暖要设置两次ds





## 实模式,保护模式

在实模式下，可以直接操作硬件，不用理会操作系统

保护模式下，受到操作系统管理，不能随意操作内存









