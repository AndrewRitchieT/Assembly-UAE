

在操作系统的环境中，合法地通过操作系统取得的空间都是安全的，因为操作系统会让一个程序所用的空间和其他程序以及系统自己的空间相冲突。

在操作系统允许的情况下，程序可以取得任意容量的空间

程序取得所需空间的方法有两种 

1.在加载程序的时候为程序分配

2.程序在执行的过程中向系统申请

若要一个程序在被加载的时候取得所需空间，必须要在源程序中做出说明。我们通过在源程序中定义段来进行内存空间的获取。

为了程序设计上的清晰和方便，我们一般也都定义不同的段来存放它们

我们在程序中定义我们希望处理的数据，这些数据就会被编译，连接程序作为程序的一部分写到可执行文件中。当可执行文件中的程序被加载入内存时，这些数据页同时被加载入内存中。



```assembly
assume  cs:code

code segment

	dw 0123h,0456h,0789,0abch

mov bx,0

mov ax,0

mov cs,8



s:add ax,cs:[bx]

	add bx,2

	loop s

mov ax,2c00h

int 21h

code ends

end
```



上述程序中的第一行中dw的含义是定义字型数据 。  dw  即define word



可执行文件中的程序执行过程如下。

由其他的程序将可执行文件中的程序加载入内存，

设置CS:IP 指向程序的第一条要执行的指令，从而使程序得以运行。

程序运行结束后，返回到加载者







根据什么位置设置CPU的CS:IP 指向程序的第一条执行的指令？

如何知道哪条指令是程序的第一条要执行的指令？

是由可执行文件中的描述信息指明的，我们知道可执行文件由描述信息和程序组成，程序来自于源程序中的汇编指令和定义的数据；描述信息则主要是编译，连接程序对源程序中相关伪指令进行处理所得到的的信息。

用伪指令end描述程序的结束和程序的入口。

在编译连接后，由“end start” 指明的程序入口，被转化为一个入口地址，存储在可执行文件的描述信息中。